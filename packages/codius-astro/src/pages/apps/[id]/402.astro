---
import AppBilling from "@/components/AppBilling.astro"
import TopUpBalanceButton from "@/components/TopUpBalanceButton.astro"
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card"
import Layout from "@/layouts/Layout.astro"

const appId = Astro.params.id

if (!appId) {
  return Astro.redirect("/apps")
}
---

<Layout>
  <main>
    <Card>
      <CardHeader>
        <CardTitle>{appId}</CardTitle>
        <CardContent>
          <AppBilling appId={appId} />
        </CardContent>
        <div class="mb-4">
          <TopUpBalanceButton appId={appId} />
        </div>
      </CardHeader>
    </Card>
  </main>
</Layout>
